(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[151],{1790:function(e,t,n){"use strict";n.r(t);var a=n(64),c=n.n(a),i=n(109),r=n(13),s=n(0),o=n(171),j=n(397),l=n(403),d=n(407),x=n(58),b=n(1175),h=n(1178),u=n(5),p=n(6),m=n(24),O=n(422),f=n(428),v=n(48),g=n(474),y=n.n(g),k=n(889),w=n.n(k),C=n(1),S=n(510),z=Object(p.a)("div")((function(e){var t=e.theme;return{padding:"15px 0",borderBottom:"dark"===t.palette.mode?"none":"1px solid",borderTop:"dark"===t.palette.mode?"none":"1px solid",borderColor:"".concat(t.palette.grey[100],"!important")}})),W=function(e){var t=e.avatar,n=e.name,a=e.role,c=e.onActive,i=Object(m.a)(),r=t&&S("./".concat(t)).default;return Object(C.jsx)(z,{children:Object(C.jsxs)(o.a,{container:!0,alignItems:"center",spacing:v.c,children:[Object(C.jsx)(o.a,{item:!0,xs:12,sm:6,onClick:function(){c()},style:{cursor:"pointer"},children:Object(C.jsxs)(o.a,{container:!0,alignItems:"center",spacing:v.c,sx:{flexWrap:"nowrap"},children:[Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(f.a,{alt:n,src:r,sx:{width:48,height:48}})}),Object(C.jsx)(o.a,{item:!0,sm:!0,zeroMinWidth:!0,children:Object(C.jsxs)(o.a,{container:!0,spacing:0,children:[Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(x.a,{variant:"h4",component:"div",children:n})}),Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(x.a,{variant:"caption",children:a})})]})})]})}),Object(C.jsx)(o.a,{item:!0,xs:12,sm:6,children:Object(C.jsxs)(o.a,{container:!0,spacing:1,sx:Object(u.a)({justifyContent:"flex-end"},i.breakpoints.down("md"),{justifyContent:"flex-start"}),children:[Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(O.a,{placement:"top",title:"Message",children:Object(C.jsx)(d.a,{variant:"outlined",sx:{minWidth:32,height:32,p:0},children:Object(C.jsx)(y.a,{fontSize:"small"})})})}),Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(O.a,{placement:"top",title:"Call",children:Object(C.jsx)(d.a,{variant:"outlined",color:"secondary",sx:{minWidth:32,height:32,p:0},children:Object(C.jsx)(w.a,{fontSize:"small"})})})})]})})]})})},I=n(143),A=n(89),M=n(457),_=n(14),U=n(1179),E=n.n(U);t.default=function(){var e=Object(s.useState)({}),t=Object(r.a)(e,2),n=t[0],a=t[1],u=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get("/api/chat/users");case 2:return t=e.sent,a(t.data.users.reduce((function(e,t){var n=t.name[0].toUpperCase();return Object.prototype.hasOwnProperty.call(e,n)?e[n].push(t):e[n]=[t],e}),{})),e.abrupt("return",t.data.users);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){u()}),[]);var p=Object(s.useState)({}),m=Object(r.a)(p,2),O=m[0],f=m[1],g=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post("/api/chat/users/modify",t);case 2:u().then((function(e){if(O){var t=e.findIndex((function(e){return e.id===O.id}));t>-1&&f(e[t])}}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(s.useState)(!1),k=Object(r.a)(y,2),w=k[0],S=k[1],z=Object(s.useState)(!1),U=Object(r.a)(z,2),J=U[0],T=U[1];return Object(C.jsx)(I.a,{title:"Contact List",children:Object(C.jsxs)(o.a,{container:!0,spacing:v.c,children:[Object(C.jsx)(o.a,{item:!0,xs:!0,zeroMinWidth:!0,sx:{display:w||J?{xs:"none",md:"block"}:"block"},children:Object(C.jsxs)(o.a,{container:!0,alignItems:"center",spacing:v.c,children:[Object(C.jsx)(o.a,{item:!0,xs:!0,zeroMinWidth:!0,children:Object(C.jsx)(j.a,{id:"input-search-card-style1",placeholder:"Search Contact",fullWidth:!0,startAdornment:Object(C.jsx)(l.a,{position:"start",children:Object(C.jsx)(_.lb,{stroke:1.5,size:"1rem"})})})}),Object(C.jsx)(o.a,{item:!0,children:Object(C.jsx)(d.a,{variant:"contained",size:"large",startIcon:Object(C.jsx)(E.a,{}),sx:{px:2.75,py:1.5},onClick:function(){f({name:"",company:"",role:"",work_email:"",personal_email:"",work_phone:"",personal_phone:"",location:"USA",image:M.default,status:"I am online",lastMessage:"2h ago",birthdayText:""}),S(!1),T(!0)},children:"Add"})}),Object.keys(n).map((function(e,t){return Object(C.jsxs)(s.Fragment,{children:[Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(x.a,{variant:"h4",color:"primary",sx:{fontSize:"1rem"},children:e.toUpperCase()})}),Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(o.a,{container:!0,direction:"row",spacing:0,children:n[e].map((function(e,t){return Object(C.jsx)(o.a,{item:!0,xs:12,children:Object(C.jsx)(W,{avatar:e.avatar,name:e.name,role:e.role,email:e.work_email,contact:e.phone,location:e.location,onActive:function(){f(e),S(!0),T(!1)}})},t)}))})})]},t)}))]})}),w&&Object(C.jsx)(o.a,{item:!0,sx:{width:342,margin:{xs:"0 auto",md:"initial"}},children:Object(C.jsx)(b.a,{user:O,onEditClick:function(){S(!1),T(!0)},onClose:function(){S(!1),T(!1)}})}),J&&Object(C.jsx)(o.a,{item:!0,sx:{width:342,margin:{xs:"0 auto",md:"initial"}},children:Object(C.jsx)(h.a,{user:O,onSave:function(e){e.id&&S(!0),T(!1),g(e)},onCancel:function(e){e.id&&S(!0),T(!1)}})})]})})}}}]);
//# sourceMappingURL=151.d103037a.chunk.js.map